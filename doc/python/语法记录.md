# Python 语法记录

## 类里面的一些特殊函数

### 魔法函数

函数名格式一般为__xx__，每个类都默认定义了，但是可以override

#### 1. call()

该方法的功能类似于在类中重载 () 运算符，使得类实例对象可以像调用普通函数那样，以“对象名()”的形式使用。

```python
class CLanguage:
    # 定义__call__方法
    def __call__(self,name,add):
        print("调用__call__()方法",name,add)
clangs = CLanguage()
clangs("张三","zhangsan")
```

#### 2. enter()/exit()

__exit__和__enter__函数是与with语句的组合应用的，用于上下文管理。

__enter__负责返回一个值，该返回值将赋值给as子句后面的var_name，通常返回对象自己，即“self”。函数优先于with后面的“代码块”(statements1,statements2,……)被执行。

```python
with xxx as var_name：
    # 代码块开始
    statements1
    statements2
    ……
    # 代码块结束
# 代码快后面的语句
statements after code block
```

执行完with后面的代码块后自动调用__exit__函数。with语句后面的“代码块”中有异常(不包括因调用某函数,由被调用函数内部抛出的异常) ，会把异常类型，异常值，异常跟踪信息分别赋值给函数参数exc_type, exc_val, exc_tb，没有异常的情况下，exc_type, exc_val, exc_tb值都为None。另外，如果该函数返回True、1类值的Boolean真值，那么将忽略“代码块”中的异常，停止执行“代码块”中剩余语句，但是会继续执行“代码块”后面的语句；如果函数返回类似0，False类的Boolean假值、或者没返回值，将抛出“代码块”中的异常，那么在没有捕获异常的情况下，中断“代码块”及“代码块”之后语句的执行。
